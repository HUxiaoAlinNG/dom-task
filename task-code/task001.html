<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>DOM单元作业1</title>
</head>
<body>
<div id="example">
  <p id="p1" class="aaa bbb"/>
  <p id="p2" class="aaa ccc"/>
  <p id="p3" class="bbb ccc"/>
</div>
<script type="text/javascript">
	function getElementsByClassName(element, names) {
	    var elements = element.getElementsByTagName('*');//返回element所有元素的列表，并赋值给elements
		var result = []; 
		var element,classNameStr,flag;
		    names = names.split(' ');
		for (var i = 0; element = elements[i]; i++) {
		    classNameStr = ' ' + element.className + ' ';
		    flag = true; //进行i遍历取得elements数组所有对象的类,并设置标识flag为true
		    for (var j = 0, name; name = names[j]; j++) {
		        if (classNameStr.indexOf(' ' + name + ' ') == -1) {//若检索不到，则设置标识flag为false并退出j遍历；
		            flag = false;
		            break;
		        }
		    }
		        if (flag) {//为result数组添加元素
		            result.push(element);
		        }
		    }
		    return result; //函数返回result数组，即为getElementsByClassName方法的实现
	}
	//验证
    console.log(getElementsByClassName(example, 'aaa'));
    console.log(getElementsByClassName(example, "bbb ccc"));
    console.log(getElementsByClassName(example, 'ccc bbb'));
</script>	
</body>
</html>